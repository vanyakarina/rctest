<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Songwriter & Catalogue Input</title>
    <style>
        input, button, select { margin-bottom: 10px; padding: 10px; width: 100%; max-width: 400px; }
        h2 { margin-top: 20px; }
    </style>
</head>
<body>
    <h1>Input Songwriter & Catalogue Data</h1>
    
    <h2>Songwriter Input</h2>
    <form id="songwriterForm">
        <input type="text" id="songwriterName" placeholder="Songwriter Name" required>
        <input type="text" id="songwriterRole" placeholder="Role (A, C, CA)" required>
        <input type="number" id="songwriterShare" placeholder="Share (%)" required>
        <input type="text" id="songwriterBank" placeholder="Bank Account" required>
        <input type="text" id="songwriterKTP" placeholder="KTP Number" required>
        <input type="text" id="songwriterIPName" placeholder="IP Name" required>
        <input type="text" id="songwriterIPBase" placeholder="IP Base" required>
        <button type="button" onclick="addSongwriter()">Add Songwriter</button>
    </form>

    <h2>Catalogue Input</h2>
    <form id="catalogueForm">
        <input type="text" id="songTitle" placeholder="Song Title" required>
        <input type="text" id="recordLabel" placeholder="Record Label" required>
        <input type="text" id="distributor" placeholder="Distributor" required>
        <input type="date" id="releaseDate" placeholder="Release Date" required>
        <input type="text" id="isrc" placeholder="ISRC" required>
        <label for="songwriterSelect">Select Songwriters:</label>
        <select id="songwriterSelect" multiple></select>
        <input type="text" id="unsignedSongwriter" placeholder="Enter Unsigned Songwriter Name (optional)">
        <button type="button" onclick="addCatalogue()">Add to Catalogue</button>
    </form>

    <div id="inputResults"></div>

    <script>
        // Store songwriters and catalogue data in arrays
        let songwriters = [];
        let catalogue = [];

        function addSongwriter() {
            const name = document.getElementById('songwriterName').value;
            const role = document.getElementById('songwriterRole').value;
            const share = parseFloat(document.getElementById('songwriterShare').value);
            const bank = document.getElementById('songwriterBank').value;
            const ktp = document.getElementById('songwriterKTP').value;
            const ipName = document.getElementById('songwriterIPName').value;
            const ipBase = document.getElementById('songwriterIPBase').value;

            if (name && role && !isNaN(share) && bank && ktp && ipName && ipBase) {
                const songwriter = { name, role, share, bank, ktp, ipName, ipBase, signed: true };
                songwriters.push(songwriter);
                updateSongwriterSelect();
                displayInputResults('Songwriter added successfully.');
                clearSongwriterForm();
            } else {
                displayInputResults('Please fill in all fields correctly.');
            }
        }

        function addCatalogue() {
            const title = document.getElementById('songTitle').value;
            const label = document.getElementById('recordLabel').value;
            const distributor = document.getElementById('distributor').value;
            const releaseDate = document.getElementById('releaseDate').value;
            const isrc = document.getElementById('isrc').value;
            const selectedOptions = document.getElementById('songwriterSelect').selectedOptions;
            const unsignedName = document.getElementById('unsignedSongwriter').value;

            if (title && label && distributor && releaseDate && isrc) {
                const song = { title, label, distributor, releaseDate, isrc, songwriters: [] };
                
                for (let option of selectedOptions) {
                    const name = option.value;
                    song.songwriters.push(name);
                }

                if (unsignedName) {
                    song.songwriters.push(unsignedName);
                }

                catalogue.push(song);
                displayInputResults('Song added to catalogue successfully.');
                clearCatalogueForm();
            } else {
                displayInputResults('Please fill in all fields correctly.');
            }
        }

        function updateSongwriterSelect() {
            const select = document.getElementById('songwriterSelect');
            select.innerHTML = '';
            songwriters.forEach(sw => {
                const option = document.createElement('option');
                option.value = sw.name;
                option.text = sw.name;
                select.add(option);
            });
        }

        function displayInputResults(message) {
            const resultDiv = document.getElementById('inputResults');
            resultDiv.innerHTML = `<p>${message}</p>`;
        }

        function clearSongwriterForm() {
            document.getElementById('songwriterForm').reset();
        }

        function clearCatalogueForm() {
            document.getElementById('catalogueForm').reset();
        }
    </script>
</body>
</html>
