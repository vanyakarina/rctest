<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalogue List</title>
    <style>
        /* Basic styling for table */
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .pagination button {
            padding: 8px 16px;
            margin: 0 2px;
            cursor: pointer;
        }
        .pagination button:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }
    </style>
</head>
<body>
    <h1>Catalogue List</h1>

    <!-- Search bar -->
    <input type="text" id="searchBar" placeholder="Search by song title" oninput="searchCatalogue()">
    
    <!-- Table for displaying catalogue -->
    <table id="catalogueTable">
        <thead>
            <tr>
                <th>No.</th>
                <th>Title</th>
                <th>Release Date</th>
                <th>Distributor</th>
                <th>ISRC</th>
                <th>Singer</th>
                <th>Songwriters</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <!-- Rows will be populated by JavaScript -->
        </tbody>
    </table>

    <!-- Pagination controls -->
    <div class="pagination">
        <button id="prevPage" onclick="changePage(-1)">Previous</button>
        <span id="pageInfo">Page 1</span>
        <button id="nextPage" onclick="changePage(1)">Next</button>
    </div>

    <script>
        let catalogue = [
            // Example data
            { title: 'Song 1', releaseDate: '2024-01-01', distributor: 'Distributor 1', isrc: 'ISRC001', singer: 'Singer 1', songwriters: [{ name: 'Songwriter 1', share: 50, status: 'Signed' }, { name: 'Songwriter 2', share: 50, status: 'Unsigned' }] },
            // Add more entries here
        ];
        let currentPage = 1;
        const entriesPerPage = 10;

        function searchCatalogue() {
            const query = document.getElementById('searchBar').value.toLowerCase();
            const filteredCatalogue = catalogue.filter(entry => entry.title.toLowerCase().includes(query));
            const totalPages = Math.ceil(filteredCatalogue.length / entriesPerPage);
            
            if (currentPage > totalPages) currentPage = totalPages;

            const startIndex = (currentPage - 1) * entriesPerPage;
            const endIndex = Math.min(startIndex + entriesPerPage, filteredCatalogue.length);
            
            const tableBody = document.getElementById('catalogueTable').getElementsByTagName('tbody')[0];
            tableBody.innerHTML = '';
            
            for (let i = startIndex; i < endIndex; i++) {
                const entry = filteredCatalogue[i];
                const row = tableBody.insertRow();
                row.innerHTML = `
                    <td>${startIndex + i + 1}</td>
                    <td>${entry.title}</td>
                    <td>${entry.releaseDate}</td>
                    <td>${entry.distributor}</td>
                    <td>${entry.isrc || 'N/A'}</td>
                    <td>${entry.singer}</td>
                    <td>${entry.songwriters.map(sw => `${sw.name} (${sw.share}%, ${sw.status})`).join(', ')}</td>
                    <td>
                        <button onclick="editCatalogue(${i})">Edit</button>
                        <button onclick="deleteCatalogue(${i})">Delete</button>
                    </td>
                `;
            }

            document.getElementById('pageInfo').textContent = `Page ${currentPage}`;
            document.getElementById('prevPage').disabled = currentPage === 1;
            document.getElementById('nextPage').disabled = endIndex >= filteredCatalogue.length;
        }

        function changePage(offset) {
            const newPage = currentPage + offset;
            const totalPages = Math.ceil(catalogue.filter(entry => entry.title.toLowerCase().includes(document.getElementById('searchBar').value.toLowerCase())).length / entriesPerPage);

            if (newPage > 0 && newPage <= totalPages) {
                currentPage = newPage;
                searchCatalogue();
            }
        }

        function editCatalogue(index) {
            // Implement the edit functionality
        }

        function deleteCatalogue(index) {
            // Implement the delete functionality
        }

        // Initial load
        searchCatalogue();
    </script>
</body>
</html>
